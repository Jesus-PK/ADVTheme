<ResourceDictionary xmlns="https://github.com/avaloniaui"
					xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
					xmlns:converters="using:Avalonia.Controls.Converters"
					x:ClassModifier="internal">
	<converters:MarginMultiplierConverter x:Key="LeftMarginConverter"
											Indent="16"
											Left="True" />

	<ControlTheme x:Key="SimpleTreeViewItemToggleButtonTheme"
					TargetType="ToggleButton">
		<Setter Property="Foreground" Value="Transparent"/>
		<Setter Property="BorderBrush" Value="{DynamicResource ADVTheme.Brush.Foreground.Base}"/>
		<Setter Property="Template">
			<ControlTemplate>
				<Border Width="12"
						Height="12"
						HorizontalAlignment="Center"
						VerticalAlignment="Center"
						Background="Transparent">
					<Path x:Name="PART_ToggleButtonIcon"
							HorizontalAlignment="Center"
							VerticalAlignment="Center" Stretch="None"
							Data="M 0 0 L 4 4 L 0 8 Z" Stroke="{TemplateBinding BorderBrush}"
							StrokeThickness="1.2"
							Fill="{TemplateBinding Foreground}" />
				</Border>
			</ControlTemplate>
		</Setter>

		<Style Selector="^:checked /template/ Path#PART_ToggleButtonIcon">
			<Setter Property="Data" Value="M 0 0 L 4 4 L 8 0 Z"/>
		</Style>
	</ControlTheme>

	<ControlTheme x:Key="{x:Type TreeViewItem}"
					TargetType="TreeViewItem">
		<Setter Property="Padding" Value="2" />
		<Setter Property="Background" Value="Transparent" />
		<Setter Property="Template">
			<ControlTemplate>
				<StackPanel>
					<Border Name="PART_Backing"
							Background="{TemplateBinding Background}"
							BorderBrush="{TemplateBinding BorderBrush}"
							BorderThickness="{TemplateBinding BorderThickness}"
							CornerRadius="{TemplateBinding CornerRadius}"
							Focusable="True"
							TemplatedControl.IsTemplateFocusTarget="True">
						<Grid Name="PART_Header"
							Margin="{TemplateBinding Level,
										 Mode=OneWay,
										 Converter={StaticResource LeftMarginConverter}}"
							ColumnDefinitions="16, *">
							<ToggleButton Name="PART_ExpandCollapseChevron"
											Focusable="False"
											Background="Transparent"
											IsChecked="{TemplateBinding IsExpanded,
														Mode=TwoWay}"
											Theme="{StaticResource SimpleTreeViewItemToggleButtonTheme}" />
							<ContentPresenter Name="PART_HeaderPresenter"
												Grid.Column="1"
												Background="Transparent"
												Padding="{TemplateBinding Padding}"
												HorizontalContentAlignment="{TemplateBinding HorizontalAlignment}"
												Content="{TemplateBinding Header}"
												ContentTemplate="{TemplateBinding HeaderTemplate}"
												Focusable="False" />
						</Grid>
					</Border>
					<ItemsPresenter Name="PART_ItemsPresenter"
									IsVisible="{TemplateBinding IsExpanded}"
									ItemsPanel="{TemplateBinding ItemsPanel}" />
				</StackPanel>
			</ControlTemplate>
		</Setter>

		<Style Selector="^ /template/ ContentPresenter#PART_HeaderPresenter">
			<Setter Property="Padding" Value="2" />
		</Style>

		<Style Selector="^ /template/ Border#PART_Backing:pointerover">
			<Setter Property="Background" Value="{DynamicResource ADVTheme.Brush.Controls.Base}" />
		</Style>

		<Style Selector="^ /template/ ToggleButton#PART_ExpandCollapseChevron:checked">
			<Setter Property="Foreground" Value="{DynamicResource ADVTheme.Brush.Foreground.Base}"/>
		</Style>

		<Style Selector="^ /template/ ToggleButton#PART_ExpandCollapseChevron:pointerover">
			<Setter Property="Foreground" Value="{DynamicResource ADVTheme.Brush.Highlight.Light}"/>
			<Setter Property="BorderBrush" Value="{DynamicResource ADVTheme.Brush.Highlight.Light}"/>
		</Style>

		<Style Selector="^:empty /template/ ToggleButton#PART_ExpandCollapseChevron">
			<Setter Property="IsVisible" Value="False" />
		</Style>

		<Style Selector="^:disabled">
			<Setter Property="Opacity" Value="{DynamicResource ADVTheme.Opacity.Disabled}"/>
		</Style>
	</ControlTheme>
</ResourceDictionary>
